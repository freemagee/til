<!doctype html>
<html class="no-js" lang="en-gb">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>
  TIL
    -
  Resolve eslint and prettier conflicts
</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Neil Magee">
  <meta name="referrer" content="no-referrer-when-downgrade">

  <link href="https://til.neilmagee.com/images/favicon/favicon-16x16.png" rel="shortcut icon" type="image/png">

  <link rel="stylesheet" href="https://til.neilmagee.com/css/style-c7a45906.css" />

</head>
<body>
  

<header class="site-header">
  <section class="site-header__ident">
    <a href="https://til.neilmagee.com/" class="site-header__link">TIL</a>
  </section>
  <nav class="site-header__nav">
  
    <a href="https://til.neilmagee.com/about/" class="site-header__nav-item">About</a>
  
  </nav>
</header>
  <div class="site-container">
    <div class="site-container__inner">
      <main role="main" id="content">
        
  <article class="post post--single" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post__header">
      <h1 class="post__title post__title--single" itemprop="title">Resolve eslint and prettier conflicts</h1>
      <div class="post__meta">
        <time class="post__date" datetime="2019-02-12" itemprop="dateCreated pubdate datePublished">
          <span class="post__published">Published:</span>
          <span class="post__published-value">2019-02-12</span>
        </time>
        
        <ul class="post__categories">
          
          <li class="post__category">
            <a href="https://til.neilmagee.com/categories/development/" class="post__category-link">development</a>
          </li>
          
        </ul>
        
      </div>
    </header>
    <section class="post-content">
      <p>Today I learned about a handy utility called <code>eslint-config-prettier-check</code> which I saw referenced in this GitHub <a href="https://github.com/prettier/prettier/issues/2609">issue</a>.</p>

<p>I was editting a <code>.vue</code> component in Visual Studio Code. I had a code section with red underlines, generally indicating that eslint was not happy with something. I could see it was a formatting issue, so I used <code>eslint --fix</code> to solve the issue and re-format the code. But then that triggered a new lint problem where <em>Prettier</em> was now unhappy with how <em>eslint</em> had formatted the code. The difference between the two is small, and involves a couple of indented spaces. See the images below for both examples.</p>

<figure>
    <img src="/images/eslint-and-prettier-conflicts/eslint-formatted.png"
         alt="Example of code formatted with eslint"/> <figcaption>
            <h4>eslint Formatted</h4>
        </figcaption>
</figure>


<figure>
    <img src="/images/eslint-and-prettier-conflicts/prettier-formatted.png"
         alt="Example of code formatted with Prettier"/> <figcaption>
            <h4>Prettier Formatted</h4>
        </figcaption>
</figure>


<p>As a person bothered by inconsistencies like this, I started with a search (<em>eslint and prettier conflicting over indentation of ternary operator at <a href="https://duckduckgo.com/?q=eslint+and+prettier+conflicting+over+indentation+of+ternary+operator">DuckDuckGo</a></em>) which led me to the GitHub issue. In that issue, they mention <code>eslint-config-prettier-check</code>. Seems like this is a CLI helper tool installed with <a href="https://github.com/prettier/eslint-config-prettier/blob/0b04c0d16860e5dba62e30898046078b492aca3a/README.md#cli-helper-tool">eslint-config-prettier</a>. After following the advice from the issue, I ran this command on Windows, in the root of the project:</p>

<pre><code>node_modules\.bin\eslint.cmd --print-config .eslintrc.js | node_modules\.bin\eslint-config-prettier-check.cmd
</code></pre>

<p>Which provided the information:</p>

<pre><code>The following rules are unnecessary or might conflict with Prettier:

- indent
</code></pre>

<p>Looking at my <code>.eslintrc.js</code> for this project, I removed the rule <code>indent: [&quot;error&quot;, 2, { SwitchCase: 1 }]</code>. After running <code>eslint --fix</code> once more, the code was re-indented, the warnings went away and all is right once again. The final code, below, is formatted in the <em>Prettier</em> way. I do need to go check some <code>switch</code> code once more to make sure that is also formatting as expected.</p>

<figure>
    <img src="/images/eslint-and-prettier-conflicts/final-formatting.png"
         alt="Final example of code formatted with eslint, with no lint errors"/> <figcaption>
            <h4>No lint errors, properly formatted!</h4>
        </figcaption>
</figure>
    </section>
    <footer class="post__footer">
      
      <ul class="post__tags">
        
        <li class="post__tag"><a href="https://til.neilmagee.com/tags/eslint/" class="post__tag-link"><span class="post__tag-label">#</span>eslint</a></li>
        
        <li class="post__tag"><a href="https://til.neilmagee.com/tags/vue/" class="post__tag-link"><span class="post__tag-label">#</span>vue</a></li>
        
      </ul>
      
    </footer>
  </article>

  

      </main>
      <footer class="site-footer">
        <div class="site-footer__inner">
          <p class="site-footer__copyright">&copy; 2019 <a href="https://neilmagee.com">Neil Magee</a>. Icons from <a href="http://entypo.com">Entypo+</a>. Made with <a href="https://gohugo.io/" class="site-footer__hugo-logo"><img src="/images/hugo-logo.png" alt="Hugo logo" width="22" height="22"></a></p>
        </div>
      </footer>
    </div>
  </div>

  <script src="https://til.neilmagee.com/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", event => {
    document.documentElement.classList.remove("no-js");
    document.querySelectorAll("pre:not(.chroma) code").forEach(block => {
      hljs.highlightBlock(block);
    });
  });
</script>

</body>
</html>