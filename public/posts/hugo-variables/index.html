<!doctype html>
<html lang="en-gb">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>
  TIL
    -
  Hugo Variables
</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Neil Magee">
  <meta name="referrer" content="no-referrer-when-downgrade">

  <link href="https://til.neilmagee.com/images/favicon/favicon-16x16.png" rel="shortcut icon" type="image/png">

  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,600,700" rel="stylesheet">
  <link rel="stylesheet" href="https://til.neilmagee.com/css/style.css" />
</head>
<body>
  

<header class="site-header">
  <section class="site-header__ident">
    <a href="https://til.neilmagee.com/" class="site-header__link">TIL</a>
  </section>
  <nav class="site-header__nav">
  
    <a href="https://til.neilmagee.com/about/" class="site-header__nav-item">About</a>
  
  </nav>
</header>
  <div class="site-container">
    <div class="site-container__inner">
      <main role="main">
        
  <article class="post post--single">
    <header class="post__header">
      <h1 class="post__title post__title--single">Hugo Variables</h1>
      <div class="post__meta">
        <time class="post__date" datetime="2018-10-11T12:39:12&#43;01:00">
          <span class="post__published">Published:</span>
          <span class="post__published-value">2018-10-11</span>
        </time>
        
        <ul class="post__categories">
          
          <li class="post__category">
            <a href="https://til.neilmagee.com/categories/development/" class="post__category-link">development</a>
          </li>
          
        </ul>
        
      </div>
    </header>
    <section class="post-content">
      <p>Today I learned that I do not know how to concatenate strings using <code>golang</code>.</p>

<p>My <a href="https://github.com/freemagee/comfortable-basic">Hugo theme</a> has an &lsquo;about&rsquo; page, which is supposed to have a conditional css class applied to the navigation when you are actually on that page. The default class is <code>site-header__nav-item</code> and that is meant to become <code>site-header__nav-item active</code> when visiting the &lsquo;about&rsquo; page. This was not happening, so I have refactored the code a little and fixed the issue.</p>

<h3 id="the-old-code">The old code</h3>

<pre><code class="language-golang">&lt;header class=&quot;site-header&quot;&gt;
  &lt;section class=&quot;site-header__ident&quot;&gt;
    &lt;a href=&quot;{{ .Site.BaseURL }}&quot; class=&quot;site-header__link&quot;&gt;{{- .Site.Title -}}&lt;/a&gt;
  &lt;/section&gt;
  &lt;nav class=&quot;site-header__nav&quot;&gt;
    {{ with .Site.GetPage &quot;about&quot; }}
    &lt;a href=&quot;{{ .Site.BaseURL }}about/&quot; class=&quot;site-header__nav-item {{ if eq .URL &quot;/about/&quot;}}active{{ end }}&quot;&gt;About&lt;/a&gt;
    {{ end }}
  &lt;/nav&gt;
&lt;/header&gt;
</code></pre>

<p></p>

<h3 id="the-new-code">The new code</h3>

<pre><code class="language-golang">{{ $navStyle := &quot;site-header__nav-item&quot; }}
{{ if eq .RelPermalink &quot;/about/&quot; }}
  {{ $navStyle = &quot;site-header__nav-item active&quot; }}
{{ end }}
&lt;header class=&quot;site-header&quot;&gt;
  &lt;section class=&quot;site-header__ident&quot;&gt;
    &lt;a href=&quot;{{ .Site.BaseURL }}&quot; class=&quot;site-header__link&quot;&gt;{{- .Site.Title -}}&lt;/a&gt;
  &lt;/section&gt;
  &lt;nav class=&quot;site-header__nav&quot;&gt;
  {{ with .Site.GetPage &quot;about&quot; }}
    &lt;a href=&quot;{{ .Site.BaseURL }}about/&quot; class=&quot;{{ $navStyle }}&quot;&gt;About&lt;/a&gt;
  {{ end }}
  &lt;/nav&gt;
&lt;/header&gt;
</code></pre>

<p>What I could not work out (whilst briefly reading the docs) was how to concatenate the string <code>active</code> to the variable <code>$navStyle</code>. My current solution was to conditionally reassign the <code>$navStyle</code> variable. What I do not like about this method is the repetition it requires. I am only doing this once here, but if there were a few more pages, then this would not adhere to DRY principles. What I would have expected to do would be similar to this:</p>

<pre><code class="language-golang">{{ $navStyle := &quot;site-header__nav-item&quot; }}
{{ if eq .RelPermalink &quot;/about/&quot; }}
  {{ $navStyle += &quot; active&quot; }}
{{ end }}
</code></pre>

<p>I am sure there is a way and I can write an update post in the future. Learning the grammar of a new language can be tough at first.</p>
    </section>
    <footer class="post__footer">
      
      <ul class="post__tags">
        
        <li class="post__tag"><a href="https://til.neilmagee.com/tags/hugo/" class="post__tag-link"><span class="post__tag-label">#</span>hugo</a></li>
        
      </ul>
      
    </footer>
  </article>

  

      </main>
      <footer class="site-footer">
        <div class="site-footer__inner">
          <p class="site-footer__copyright">&copy; 2018 <a href="http://neilmagee.com">Neil Magee</a>. Icons from <a href="http://entypo.com">Entypo+</a>. Made with <a href="https://gohugo.io/" class="site-footer__hugo-logo"><img src="/images/hugo-logo.png" width="22" height="22"></a></p>
        </div>
      </footer>
    </div>
  </div>
</body>
</html>